[gd_scene load_steps=26 format=3 uid="uid://o3h1whqowhix"]

[ext_resource type="Script" path="res://scripts/main/world.gd" id="1_hnd5j"]
[ext_resource type="Shader" path="res://scripts/environment/sky.gdshader" id="2_hvotx"]
[ext_resource type="Biome" uid="uid://cku6scldg8hvt" path="res://assets/terrain/biomes/seasonal_forest.tres" id="3_44bv1"]
[ext_resource type="Biome" uid="uid://b40bm5c1q32c0" path="res://assets/terrain/biomes/temperate_rainforest.tres" id="4_kx02e"]
[ext_resource type="Biome" uid="uid://cv5kpg873kgsd" path="res://assets/terrain/biomes/tundra.tres" id="5_w0cao"]
[ext_resource type="ArrayMesh" uid="uid://d1djonn5mlr2i" path="res://assets/environment/common/grass/Grass.vox" id="6_goijs"]
[ext_resource type="Biome" uid="uid://c63kd01mimsco" path="res://assets/terrain/biomes/desert.tres" id="6_n4676"]
[ext_resource type="Material" uid="uid://db2s6xq8u3hbg" path="res://resources/environment/water.tres" id="7_j1wk1"]
[ext_resource type="Material" uid="uid://bqp4ti5deyq1f" path="res://resources/environment/wind.tres" id="8_7xp13"]
[ext_resource type="Script" path="res://scripts/multiplayer/entity_manager.gd" id="8_g3enr"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_riag3"]
shader = ExtResource("2_hvotx")
shader_param/_AtmosDarkness = 0.936
shader_param/_AtmosDayTint = Color(1, 1, 1, 1)
shader_param/_AtmosHorizonTint = Color(0.980392, 0.635294, 0.462745, 1)
shader_param/_AtmosLevelParams = null
shader_param/_AtmosMie = 0.01
shader_param/_AtmosMieAnisotropy = 0.8
shader_param/_AtmosMieIntensity = 1.0
shader_param/_AtmosMieTint = Color(1, 1, 1, 1)
shader_param/_AtmosNightTint = Color(0.02, 0.03, 0.04, 1)
shader_param/_AtmosSunIntensity = 30.0
shader_param/_AtmosThickness = 1.0
shader_param/_ContrastLevel = 0.4
shader_param/_Exposure = 1.3
shader_param/_GroundColor = Color(0.172549, 0.172549, 0.172549, 1)
shader_param/_SunDiskIntensity = 1.3
shader_param/_SunDiskSize = 0.009
shader_param/_SunDiskTint = Color(0.99, 0.49, 0.22, 1)
shader_param/_Tonemap = 0.0

[sub_resource type="Sky" id="Sky_tq1nc"]
sky_material = SubResource("ShaderMaterial_riag3")

[sub_resource type="Environment" id="Environment_ghs71"]
background_mode = 2
background_energy = 2.29
sky = SubResource("Sky_tq1nc")
ambient_light_source = 3
reflected_light_source = 1
ssao_enabled = true
ssao_sharpness = 1.0
ssil_enabled = true
sdfgi_enabled = true
glow_enabled = true
glow_blend_mode = 4
fog_light_color = Color(0, 0.423529, 0.701961, 1)
fog_light_energy = 0.9
fog_density = 0.0057

[sub_resource type="VoxelStreamRegionFiles" id="VoxelStreamRegionFiles_byu7p"]
directory = "res://save/terrain/regions"

[sub_resource type="FastNoiseLite" id="FastNoiseLite_n8vxe"]
seed = 10
frequency = 0.003

[sub_resource type="FastNoiseLite" id="FastNoiseLite_pfgw4"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_q5o7r"]
seed = 1
frequency = 0.001

[sub_resource type="FastNoiseLite" id="FastNoiseLite_url8d"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_fwsue"]
frequency = 0.001
fractal_octaves = 1
fractal_lacunarity = 1.0
fractal_gain = 0.1

[sub_resource type="VoxelGeneratorWorld" id="VoxelGeneratorWorld_6k361"]
biomes = [ExtResource("3_44bv1"), ExtResource("4_kx02e"), ExtResource("5_w0cao"), ExtResource("6_n4676")]
temperature_noise = SubResource("FastNoiseLite_fwsue")
moisture_noise = SubResource("FastNoiseLite_q5o7r")
continentalness_noise = SubResource("FastNoiseLite_n8vxe")
peaks_and_valleys_noise = SubResource("FastNoiseLite_url8d")
erosion_noise = SubResource("FastNoiseLite_pfgw4")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6tquh"]
vertex_color_use_as_albedo = true

[sub_resource type="VoxelMesherCubes" id="VoxelMesherCubes_p8y6y"]
greedy_meshing_enabled = false
opaque_material = SubResource("StandardMaterial3D_6tquh")
transparent_material = ExtResource("7_j1wk1")

[sub_resource type="VoxelInstanceGenerator" id="VoxelInstanceGenerator_o8co0"]
min_scale = 0.1
max_scale = 0.1

[sub_resource type="VoxelInstanceLibraryMultiMeshItem" id="VoxelInstanceLibraryMultiMeshItem_hs0xq"]
generator = SubResource("VoxelInstanceGenerator_o8co0")
mesh = ExtResource("6_goijs")
material_override = ExtResource("8_7xp13")

[sub_resource type="VoxelInstanceLibrary" id="VoxelInstanceLibrary_f20yk"]
item_1 = SubResource("VoxelInstanceLibraryMultiMeshItem_hs0xq")

[node name="World" type="Node3D"]
script = ExtResource("1_hnd5j")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ghs71")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.17901, -0.966659, -0.1831, 0.322252, -0.233449, 0.917418, -0.929575, 0.105223, 0.353298, 0, 10, 0)
light_color = Color(1, 0.631373, 0.270588, 1)
light_energy = 0.217
shadow_enabled = true
shadow_blur = 0.614

[node name="VoxelTerrain" type="VoxelTerrain" parent="."]
stream = SubResource("VoxelStreamRegionFiles_byu7p")
generator = SubResource("VoxelGeneratorWorld_6k361")
mesher = SubResource("VoxelMesherCubes_p8y6y")
max_view_distance = 256
run_stream_in_editor = false
mesh_block_size = 32

[node name="VoxelInstancer" type="VoxelInstancer" parent="VoxelTerrain"]
visible = false
library = SubResource("VoxelInstanceLibrary_f20yk")

[node name="EntityManager" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 155.31, 0)
script = ExtResource("8_g3enr")
